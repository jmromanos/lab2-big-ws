buildscript{
    repositories{
        jcenter()
        mavenCentral()
    }
    dependencies {
        classpath 'no.nils:wsdl2java:0.6'
    }
}

plugins {
    id 'org.springframework.boot' version '1.5.7.RELEASE'
}

apply plugin: 'java'
apply plugin :'no.nils.wsdl2java'
apply plugin: 'eclipse-wtp'
apply plugin: 'idea'

sourceSets.main.java.srcDirs += "${buildDir}/generated-sources/jaxb"

xsd2java {
  encoding = 'utf-8'
  xsdsToGenerate = [
      ["src/main/resources/translator.xsd",'translator.web.ws.schema']
  ]
  generatedXsdDir = file("${buildDir}/generated-sources/jaxb")
}

tasks.withType(JavaCompile) {
    options.fork = true
}

task afterEclipseImport {
  dependsOn "xsd2java"
}

compileJava.dependsOn xsd2java


repositories {
    mavenCentral()
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
    compile "org.springframework.boot:spring-boot-starter-web-services"
    compile "org.apache.httpcomponents:httpclient"
    compile "wsdl4j:wsdl4j:1.6.3"
    testCompile "org.springframework.boot:spring-boot-starter-test"
}